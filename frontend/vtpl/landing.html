<!DOCTYPE html>

<style>
  .pic {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 400px;  /* Increase the height */
  width: 100%;
  overflow: hidden;  /* Hide overflow */
}

.img-fluid {
  max-width: 100%;
  height: 100%;  /* Ensure the image takes the full height of the container */
  object-fit: cover;  /* Ensure the image maintains aspect ratio and fills the container */
}
  .testimonial-item {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100%; /* Ensure the item takes up the full height */
    padding: 20px; /* Optional padding */
    text-align: center; /* Center the text */
}

.testimonial-item p {
    flex-grow: 1; /* Make sure the paragraph expands to take available space */
    display: flex;
    align-items: center;
    justify-content: center;
}

.profile {
    margin-top: 20px; /* Space between message and profile */
}

/* Prettier Swiper Arrows with Green Background */
.swiper-button-next, .swiper-button-prev {
  color: #4e4d4d; /* Arrow color (white) */
  font-size: 18px; /* Adjust arrow size */
  width: 40px;  /* Make the arrow element larger */
  height: 40px; /* Make the arrow element larger */
  background-color: #dddddd; /* Green background */
  border-radius: 50%; /* Make them perfectly circular */
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1); /* Soft shadow for depth */
  transition: background-color 0.3s ease, transform 0.3s ease; /* Smooth transitions */
  cursor: pointer; /* Show pointer cursor */
}


/* Hover effect for a more interactive feel */
.swiper-button-next:hover, .swiper-button-prev:hover {
  background-color: #28a745; /* Darker green on hover */
  transform: scale(1.1); /* Slightly enlarge on hover */
}

/* Optional: Add a soft shadow when hovering */
.swiper-button-next:hover, .swiper-button-prev:hover {
  box-shadow: 0px 6px 15px rgba(0, 0, 0, 0.2); /* Increase shadow on hover */
}

</style>
<main class="main">

    <!-- Hero Section -->
    <section id="hero" class="hero section dark-background">

      <div id="hero-carousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="5000">

        <div class="carousel-item active">
          <img src="assets/img/hero-carousel/hero-carousel-1.jpg" alt="">
          <div class="carousel-container">
            <div>
              <p>Bjelasnica, Sarajevo</p>
              <h2><span></span> Ulica Babino</h2>
              <a href="#properties" class="btn-get-started">Price | 200.000 BAM</a>
            </div>
          </div>
        </div><!-- End Carousel Item -->

        <div class="carousel-item">
          <img src="assets/img/hero-carousel/hero-carousel-2.jpg" alt="">
          <div class="carousel-container">
            <div>
              <p>Doral, Florida</p>
              <h2><span>247</span> Venda Road Five</h2>
              <a href="property-single.html" class="btn-get-started">sale | $ 356.000</a>
            </div>
          </div>
        </div><!-- End Carousel Item -->

        <div class="carousel-item">
          <img src="assets/img/hero-carousel/hero-carousel-3.jpg" alt="">
          <div class="carousel-container">
            <div>
              <p>Doral, Florida</p>
              <h2><span>247</span> Vitra Road three</h2>
              <a href="#properties" class="btn-get-started">rent | $ 3.000</a>
            </div>
          </div>
        </div><!-- End Carousel Item -->

        <!--<a class="carousel-control-prev" href="#hero-carousel" role="button" data-bs-slide="prev">
          <span class="carousel-control-prev-icon bi bi-chevron-left" aria-hidden="true"></span>
        </a>

        <a class="carousel-control-next" href="#hero-carousel" role="button" data-bs-slide="next">
          <span class="carousel-control-next-icon bi bi-chevron-right" aria-hidden="true"></span>
        </a>-->

        <ol class="carousel-indicators"></ol>

      </div>

    </section><!-- /Hero Section -->


    <!-- Agents Section -->
    <section id="agents" class="agents section">

      <!-- Section Title -->
      <div class="container section-title" data-aos="fade-up">
        <h2>Our Agents</h2>
        <p>Our Agents that will help you find a perfect house</p>
      </div><!-- End Section Title -->

      <div class="container">

        <div class="row gy-5">

          

        </div>

      </div>

    </section><!-- /Agents Section -->

    <section id="testimonials" class="testimonials section">
      <!-- Section Title -->
      <div class="container section-title" data-aos="fade-up">
        <h2>Feedback</h2>
        <p>Reviews of our customers.</p>
      </div><!-- End Section Title -->
    
      <div class="container" data-aos="fade-up" data-aos-delay="100">
        <div class="swiper init-swiper">
          <script type="application/json" class="swiper-config">
            {
              "loop": true,
              "speed": 600,
              "autoplay": {
                "delay": 5000
              },
              "slidesPerView": "auto",
              "pagination": {
                "el": ".swiper-pagination",
                "type": "bullets",
                "clickable": true
              },
              "navigation": {
                "nextEl": ".swiper-button-next",
                "prevEl": ".swiper-button-prev"
              },
              "breakpoints": {
                "320": {
                  "slidesPerView": 1,
                  "spaceBetween": 40
                },
                "1200": {
                  "slidesPerView": 3,
                  "spaceBetween": 1
                }
              }
            }
          </script>
    
          <!-- This is where the feedback will be dynamically injected -->
          <div class="swiper-wrapper"></div>
    
          <!-- Pagination (dots) -->
          <div class="swiper-pagination"></div>
    
          <!-- Navigation arrows -->
          <div class="swiper-button-next"></div>
          <div class="swiper-button-prev"></div>
        </div>
      </div>
    </section>
    
    <script src="assets/js/agents.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@latest/swiper-bundle.min.js"></script>
    <script>
      console.log("before");
      $(document).ready(function() {
        console.log("after");
        $.ajax({
          url: "../rest/feedback",  // Update with your actual backend route
          type: "GET",
          success: function(feedbacks) {
            console.log("success");
            let feedbackHtml = '';
            feedbacks.forEach(function(feedback) {
              feedbackHtml += `
                <div class="swiper-slide">
                  <div class="testimonial-item">
                    <p>${feedback.message}</p>
                    <div class="profile mt-auto">
                      <img src="assets/img/testimonials/testimonials-default.jpg" class="testimonial-img" alt="">
                      <h3>${feedback.name}</h3>
                    </div>
                  </div>
                </div>
              `;
            });
    
            // Inject the feedback into the swiper-wrapper
            $(".swiper-wrapper").html(feedbackHtml);
    
            // Initialize Swiper after dynamic content is added
            const swiperConfig = JSON.parse(document.querySelector('.swiper-config').textContent);
            new Swiper('.swiper', swiperConfig);
          },
          error: function(xhr, status, error) {
            console.log("Error fetching feedbacks:", error);
          }
        });
      });
    </script>
    
  

</html>