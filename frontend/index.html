<!DOCTYPE html>

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>HomeSpot</title>
  <meta name="description" content="">
  <meta name="keywords" content="">
  

  <!-- Prefetch Important Resources -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" href="assets/css/main.css" as="style">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700&family=Poppins:wght@100;300;400;500;700&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="assets/css/main.css" rel="stylesheet">
  <link href="assets/css/spapp.css" rel="stylesheet">

  <!--toaster library-->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet"/>
  <!-- Toastr JS -->
  
</head>



<body class="index-page">
  <header id="header" class="header d-flex align-items-center fixed-top">
    <div class="container-fluid container-xl position-relative d-flex align-items-center justify-content-between">

      <a href="#index" class="logo d-flex align-items-center">
        <!-- Uncomment the line below if you also wish to use an image logo -->
        <img src="assets/img/houselogo.jpg" alt="">
        <h1 class="sitename">HomeSpot <span>Agency</span></h1>
      </a>

     <nav id="navmenu" class="navmenu" role="navigation">
        <ul>
          <li><a href="#index">Home</a></li>
          <li id="properties-nav" style="display: none;"><a href="#properties">Properties</a></li>
          <li id="agents-nav" style="display: none;"><a href="#agents">Agents</a></li>
          <li id="services-nav" style="display: none;"><a href="#service">Services</a></li>
          <li><a href="#about">About</a></li>
          <li id="contact-nav" style="display: none;"><a href="#contact">Contact</a></li>
          <li id="profile-nav" style="display: none;"><a href="#myprofile">My Profile</a></li>
          <li style="display: none;"><a href="#propertysingle">List real estate</a></li>
          <li><a href="#login" class="btn btn-primary mx-2" id="login-btn"><i class="bi bi-box-arrow-in-right"></i> Login</a></li>
          <li><a href="#registration" class="btn btn-secondary" id="register-btn"><i class="bi bi-person-plus"></i> Register</a></li>
          <li><a href="#" id="logout-btn" class="btn btn-primary mx-2" style="display: none;"><i class="bi bi-box-arrow-right"></i> Logout</a></li>
        </ul>

        <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
      </nav>

    </div>
  </header>

  <section id="pageContent">
    <main id="spapp" role="main">
        <section id="properties" data-load="properties.html">
            <h1>Properties</h1>
        </section>
        <section id="myprofile" data-load="profile.html">
          <h1>My Profile</h1>
        </section>
        <section id="service" data-load="services.html">
            <h1>Services</h1>
        </section>
        <section id="agents" data-load="agents.html">
          <h1>Agents</h1>
      </section>
      <section id="about" data-load="about.html">
        <h1>About Us</h1>
    </section>
    <section id="propertysingle" data-load="propertysingle.html">
      
  </section>
  <section id="login" data-load="login.html">
    <h1>Login</h1>
</section>
<section id="registration" data-load="register.html">
  <h1>Register</h1>
</section>
<section id="contact" data-load="contact.html">
  <h1>Contact</h1>
</section>
    <section id="index" data-load="landing.html">
      <h1>Home</h1>
  </section>
  
    </main>
</section>

<footer id="footer" class="footer light-background">

    <div class="container">
      <div class="row gy-3">
        <div class="col-lg-3 col-md-6 d-flex">
          <i class="bi bi-geo-alt icon"></i>
          <div class="address">
            <h4>Address</h4>
            <p>Stupska 19</p>
            <p>Sarajevo, Bosnia and Herzegovina 71000</p>
            <p></p>
          </div>

        </div>

        <div class="col-lg-3 col-md-6 d-flex">
          <i class="bi bi-telephone icon"></i>
          <div>
            <h4>Contact</h4>
            <p>
              <strong>Phone:</strong> <span>+387 62 250 747</span><br>
              <strong>Email:</strong> <span>homespot@gmail.com</span><br>
            </p>
          </div>
        </div>

        <div class="col-lg-3 col-md-6 d-flex">
          <i class="bi bi-clock icon"></i>
          <div>
            <h4>Opening Hours</h4>
            <p>
              <strong>Mon-Sat:</strong> <span>9AM - 5PM</span><br>
              <strong>Sunday</strong>: <span>Closed</span>
            </p>
          </div>
        </div>

        <div class="col-lg-3 col-md-6">
          <h4>Follow Us</h4>
          <div class="social-links d-flex">
            <a href="https://www.facebook.com/amina.meric" class="facebook"><i class="bi bi-facebook"></i></a>
            <a href="https://www.instagram.com/amina_merik/" class="instagram"><i class="bi bi-instagram"></i></a>
            <a href="https://www.linkedin.com/in/amina-meri%C4%87-0b157322a/" class="linkedin"><i class="bi bi-linkedin"></i></a>
          </div>
        </div>

      </div>
    </div>
    <div class="container copyright text-center mt-4">
      <p>Â© <span>Copyright</span> <strong class="px-1 sitename">EstateAgency</strong> <span>All Rights Reserved</span></p>
      <div class="credits">
        <!-- All the links in the footer should remain intact. -->
        <!-- You can delete the links only if you've purchased the pro version. -->
        <!-- Licensing information: https://bootstrapmade.com/license/ -->
        <!-- Purchase the pro version with working PHP/AJAX contact form: [buy-url] -->
        Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
      </div>
    </div>
  </footer>
<!-- Scroll Top -->
<a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

<!-- Preloader -->
<div id="preloader"></div>

   <script src="assets/js/jquery.min.js"></script>
   <script src="assets/js/jquery.validate.min.js"></script>
  
  <!-- Load Bootstrap JS next (without defer) -->
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  
  <!-- Other vendor JS -->
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>

  <!-- Main JS files -->
  <script src="assets/js/jquery.spapp.min.js"></script>
  <script src="assets/js/main.js"></script>

  <!-- Toastr JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

  



</body>
   
<style>
  /* Override Toastr default styles */
  #toast-container {
    position: fixed;
    top: 10%; /* Positioning closer to top for visibility */
    right: 20px; /* Set to right for traditional toast positioning */
    z-index: 9999; /* High z-index to ensure visibility on top of other elements */
}

.toast {
    min-width: 350px; /* Minimum width */
    margin-top: 10px; /* Space between toasts */
    color: white; /* Text color */
    padding: 20px; /* Padding for content */
    border-radius: 8px; /* Rounded corners for a softer look */
    box-shadow: 0 4px 6px rgba(0,0,0,0.1); /* Subtle shadow for depth */
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-size: 16px; /* Font size */
}

.toast-success {
    background-color: #28a745; /* Green background for success messages */
}

.toast-error {
    background-color: #dc3545; /* Red background for error messages */
}

.toast-message {
    flex-grow: 1; /* Allow message to take up available space */
    padding-right: 10px; /* Spacing between text and close button */
}

.toast-close {
    font-size: 1.2em;
    cursor: pointer;
    color: white;
}

</style>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
    const token = localStorage.getItem('token');
    const navItems = document.getElementById('nav-items');
    const loginButton = document.getElementById('login-button');
    const registerButton = document.getElementById('register-button');
    const logoutButton = document.getElementById('logout-btn');

    // Hide navigation items if no token is found
    if (!token) {
        if (navItems) navItems.style.display = 'none';
        $('#login-btn').show();
        $('#register-btn').show();
        $('#logout-btn').hide();
    } else {
        if (loginButton) loginButton.style.display = 'none';
        if (registerButton) registerButton.style.display = 'none';
        $('#login-btn').hide();
        $('#register-btn').hide();
        $('#logout-btn').show();
    }

    // Disable AJAX Caching
    $.ajaxSetup({ cache: false });

    // Initialize the SPA app
    let app = $.spapp({
        templateDir: "./vtpl/",
    });

    $(window).on('hashchange', function () {
    let currentHash = window.location.hash;

    // Default to #index if no hash is found
    if (!currentHash || currentHash === '#') {
        currentHash = '#index';
    }

    // Remove query parameters from the URL (everything after ?)
    const urlWithoutQuery = window.location.origin + window.location.pathname + currentHash;

    // Use history.replaceState to update the URL without reloading the page
    window.history.replaceState(null, null, urlWithoutQuery);

    // Check if the currentHash is in the allowed list and then trigger the navigation update
    if (['#index', '#about', '#contact', '#service', '#properties', '#agents', '#myprofile'].includes(currentHash)) {
        updateNavigation();
    }
});


    app.run();

    // Handle logout button click event
    if (logoutButton) {
        logoutButton.addEventListener('click', function() {
            logoutUser();  // Call logout function on click
        });
    }
});

    </script>

    <script>
     document.addEventListener("DOMContentLoaded", function() {
    // Navigation elements
    const loginButton = document.getElementById('login-btn');
    const registerButton = document.getElementById('register-btn');
    const logoutButton = document.getElementById('logout-btn');

    // Update navigation based on token presence
    updateNavigation();

    // Logout functionality
    if (logoutButton) {
        logoutButton.addEventListener('click', function() {
            // Remove the token and user from local storage
            localStorage.removeItem('token');
            localStorage.removeItem('user');
            localStorage.removeItem('property');

            // Update the navigation bar
            updateNavigation();

            // Redirect to the homepage or login page
            window.location.href = '#login';  // Adjust this to your homepage or login page
        });
    }
    
});




function updateNavigation() {
    const token = localStorage.getItem('token');
    const user = JSON.parse(localStorage.getItem('user'));

    if (token && user) {
        // User is logged in, show the logout button and hide login/register
        $('#login-btn').hide();
        $('#register-btn').hide();
        $('#logout-btn').show();

        // Show restricted sections
        $('#services-nav').show();
        $('#properties-nav').show();
        $('#agents-nav').show();
        $('#contact-nav').show();
        if (user.type_of_user === 'User') {
            $('#profile-nav').show();
        } else {
            $('#profile-nav').hide();
        }
    } else {
        // User is not logged in, show login/register buttons and hide logout
        $('#login-btn').show();
        $('#register-btn').show();
        $('#logout-btn').hide();

        // Hide restricted sections
        $('#services-nav').hide();
        $('#properties-nav').hide();
        $('#agents-nav').hide();
        $('#contact-nav').hide();
        $('#profile-nav').hide();
    }
    
}



// Example function to simulate logout (Handled above in the event listener)
if (logoutButton) {
    logoutButton.addEventListener('click', function() {
        // Remove the token and user from local storage
        localStorage.removeItem('token');
        localStorage.removeItem('user');
        localStorage.removeItem('property'); // Consider what other items need to be cleared

        // Force UI to reflect logged out state
        updateNavigation();

        // Optionally, force a reload of the page to reset all UI components
        window.location.reload();  // Uncomment this if needed

        // Redirect to the homepage or login page
        window.location.href = '#login'; // Ensure this hash matches your routing logic
    });
}



    </script>

<script>
  toastr.options = {
            "closeButton": true,
            "debug": false,
            "newestOnTop": false,
            "progressBar": true,
            "positionClass": "toast-top-right",
            "preventDuplicates": true,
            "onclick": null,
            "showDuration": "300",
            "hideDuration": "1000",
            "timeOut": "5000",
            "extendedTimeOut": "1000",
            "showEasing": "swing",
            "hideEasing": "linear",
            "showMethod": "fadeIn",
            "hideMethod": "fadeOut"
        };
</script>

<!--for hiding footer on login and registration-->
<script>
document.addEventListener("DOMContentLoaded", function() {
  // Function to update the footer visibility based on the current hash
  function updateFooterVisibility() {
      const footer = document.getElementById('footer');
      const currentPage = window.location.hash;
      const pagesWithoutFooter = ['#login', '#registration'];

      if (pagesWithoutFooter.includes(currentPage)) {
          footer.style.display = 'none';
      } else {
          footer.style.display = 'block';
      }
  }

  // Listen for hash changes to update footer visibility
  window.addEventListener('hashchange', updateFooterVisibility);

  // Initial check on page load
  updateFooterVisibility();
});
</script>
    
</html>




